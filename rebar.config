{erl_opts, [debug_info, {i, "./apps/"}]}.
{deps, [
  {vegur, {git, "https://github.com/heroku/vegur"}}
 ,recon
 ,cowboy
 ,{cowlib, {git, "https://github.com/ninenines/cowlib.git", {tag, "1.0.0"}}}
]}.

% {provider_hooks, [{pre, [{app_compile, {ex, compile}}]}]}.
{plugins, [
  % rebar3_elixirc
  rebar3_elixir_compile
]}.

{provider_hooks, [
  {pre, [{compile, {ex, compile}}]},
  {pre, [{release, {ex, compile}}]}
]}.

{elixir_opts, 
  [
    {env, dev}
  ]
}.

% {ex_opts, #{docs => false, ignore_module_conflict => true,
%             debug_info => true, warnings_as_errors => false}}.

{shell, [
  {config, "config/sys.config"}
]}.

{dist_node, [
  {setcookie, 'proxy42_shell_secret'},
  {sname, 'proxy42_shell'},
  {start_epmd, true}
]}.

{relx, [{release, { proxy42, "0.1.0" },
         [proxy42,
          storage,
          proxy42_control_api,
          sasl]},

        {sys_config, "./config/sys.config"},
        {vm_args, "./config/vm.args"},

        {dev_mode, true},
        {include_erts, false},

        {extended_start_script, true}]
}.

{profiles, [{prod, [{relx, [{dev_mode, false},
                            {include_erts, true}]}]
            }]
}.
